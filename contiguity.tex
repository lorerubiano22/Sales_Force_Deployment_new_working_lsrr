\begin{figure}
\begin{tikzpicture}[scale = 1.3]
\draw[help lines, thick, black] (0,0) grid (5,5);
\foreach \x in {2,3}
\foreach \y in {2,3}
{
\draw[fill=structure.fg] (\x,\y) rectangle(\x +1 ,\y +1);
}
\foreach \x in {0,1}
\foreach \y in {0,1}
{
\draw[fill=structure.fg, thick] (\x,\y) rectangle(\x +1 ,\y +1);
}
\draw[fill=structure.fg, thick] (2,1) rectangle(3,2);
%%% Nodes of the grid
\foreach \x in {2,3}
\foreach \y in {2,3}
{
\node (n\x\y) at (\x +0.5,\y +0.5) [thick, white, shape=circle, draw, inner sep=0pt, minimum size=5mm] {};
}
\foreach \x in {0,1}
\foreach \y in {0,1}
{
\node (n\x\y) at (\x +0.5,\y +0.5) [thick, white, shape=circle, draw, inner sep=0pt, minimum size=5mm] {};
}
\node (n21) at (2.5,1.5) [ultra thick, white, shape=circle, draw, inner sep=0pt, minimum size=5mm] {8};
%\pause
%\begin{pgfonlayer}{foreground}
\pause
\draw [-latex, very thick, white] (n21) edge node[right]{4} (n22);
\draw [-latex, very thick, white] (n21) edge node[above]{4} (n11);
\pause
\draw [-latex, very thick, white] (n11) edge node[above]{1} (n01);
\draw [-latex, very thick, white] (n11) edge node[right]{2} (n10);
\node at (1.5,1.5) [thick, white, shape=circle, draw, inner sep=0pt, minimum size=5mm] {1};
\pause
\draw [-latex, very thick, white] (n10) edge node[below]{1} (n00);
\node at (0.5,1.5) [thick, white, shape=circle, draw, inner sep=0pt, minimum size=5mm] {1};
\node at (1.5,0.5) [thick, white, shape=circle, draw, inner sep=0pt, minimum size=5mm] {1};
\node at (0.5,0.5) [thick, white, shape=circle, draw, inner sep=0pt, minimum size=5mm] {1};
\pause
\draw [-latex, very thick, white] (n22) edge node[below]{3} (n32);
\draw [-latex, very thick, white] (n32) edge node[right]{2} (n33);
\draw [-latex, very thick, white] (n33) edge node[above]{1} (n23);
\node at (2.5,2.5) [thick, white, shape=circle, draw, inner sep=0pt, minimum size=5mm] {1};
\node at (3.5,2.5) [thick, white, shape=circle, draw, inner sep=0pt, minimum size=5mm] {1};
\node at (3.5,3.5) [thick, white, shape=circle, draw, inner sep=0pt, minimum size=5mm] {1};
\node at (2.5,3.5) [thick, white, shape=circle, draw, inner sep=0pt, minimum size=5mm] {1};
%\end{pgfonlayer}
\end{tikzpicture}
\end{figure}
